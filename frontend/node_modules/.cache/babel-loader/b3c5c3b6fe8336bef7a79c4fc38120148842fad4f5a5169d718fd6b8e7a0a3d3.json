{"ast":null,"code":"var _jsxFileName = \"D:\\\\PerfumeShop\\\\frontend\\\\src\\\\components\\\\ProductPage.js\",\n  _s = $RefreshSig$();\n// ProductPage.js\nimport React, { useState, useEffect } from 'react';\nimport StarRatings from 'react-star-ratings';\nimport './ProductPage.css'; // Make sure to style your page accordingly\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductPage = ({\n  match\n}) => {\n  _s();\n  const [product, setProduct] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [newReview, setNewReview] = useState({\n    username: '',\n    rating: 1,\n    comment: ''\n  });\n  const productId = match.params.id;\n  useEffect(() => {\n    const fetchProduct = async () => {\n      const response = await fetch(`/api/products/${productId}`);\n      const data = await response.json();\n      setProduct(data);\n    };\n    const fetchReviews = async () => {\n      const response = await fetch(`/api/products/${productId}/reviews`);\n      const data = await response.json();\n      setReviews(data);\n    };\n    fetchProduct();\n    fetchReviews();\n  }, [productId]);\n  const handleReviewSubmit = async e => {\n    e.preventDefault();\n    const response = await fetch(`/api/products/${productId}/reviews`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newReview)\n    });\n    const addedReview = await response.json();\n    setReviews(prevReviews => [...prevReviews, addedReview]);\n    setNewReview({\n      username: '',\n      rating: 1,\n      comment: ''\n    });\n  };\n  if (!product) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-image-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:5000${product.image}` // Adjust to match the server path\n        ,\n        alt: product.name,\n        className: \"product-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"product-name\",\n      children: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"product-description\",\n      children: product.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"product-price\",\n      children: [\"Rs. \", product.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StarRatings, {\n      rating: product.rating,\n      starRatedColor: \"gold\",\n      numberOfStars: 5,\n      name: \"rating\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"share-button\",\n      children: \"Share\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommended-products\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Recommended Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Customer Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), reviews.map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: review.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StarRatings, {\n        rating: review.rating,\n        starRatedColor: \"gold\",\n        numberOfStars: 5,\n        name: \"rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: review.comment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, review._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleReviewSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Your Name\",\n        value: newReview.username,\n        onChange: e => setNewReview({\n          ...newReview,\n          username: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StarRatings, {\n        rating: newReview.rating,\n        starRatedColor: \"gold\",\n        numberOfStars: 5,\n        name: \"rating\",\n        changeRating: newRating => setNewReview({\n          ...newReview,\n          rating: newRating\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Your Review\",\n        value: newReview.comment,\n        onChange: e => setNewReview({\n          ...newReview,\n          comment: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductPage, \"kyF4W/PqYFWrh3OzEIc8UtAdD2g=\");\n_c = ProductPage;\nexport default ProductPage;\nvar _c;\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"names":["React","useState","useEffect","StarRatings","jsxDEV","_jsxDEV","ProductPage","match","_s","product","setProduct","reviews","setReviews","newReview","setNewReview","username","rating","comment","productId","params","id","fetchProduct","response","fetch","data","json","fetchReviews","handleReviewSubmit","e","preventDefault","method","headers","body","JSON","stringify","addedReview","prevReviews","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","image","alt","name","description","price","starRatedColor","numberOfStars","map","review","_id","onSubmit","type","placeholder","value","onChange","target","required","changeRating","newRating","_c","$RefreshReg$"],"sources":["D:/PerfumeShop/frontend/src/components/ProductPage.js"],"sourcesContent":["// ProductPage.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport StarRatings from 'react-star-ratings';\r\nimport './ProductPage.css'; // Make sure to style your page accordingly\r\n\r\nconst ProductPage = ({ match }) => {\r\n  const [product, setProduct] = useState(null);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [newReview, setNewReview] = useState({ username: '', rating: 1, comment: '' });\r\n\r\n  const productId = match.params.id;\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      const response = await fetch(`/api/products/${productId}`);\r\n      const data = await response.json();\r\n      setProduct(data);\r\n    };\r\n\r\n    const fetchReviews = async () => {\r\n      const response = await fetch(`/api/products/${productId}/reviews`);\r\n      const data = await response.json();\r\n      setReviews(data);\r\n    };\r\n\r\n    fetchProduct();\r\n    fetchReviews();\r\n  }, [productId]);\r\n\r\n  const handleReviewSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const response = await fetch(`/api/products/${productId}/reviews`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(newReview),\r\n    });\r\n    const addedReview = await response.json();\r\n    setReviews((prevReviews) => [...prevReviews, addedReview]);\r\n    setNewReview({ username: '', rating: 1, comment: '' });\r\n  };\r\n\r\n  if (!product) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"product-page\">\r\n      <div className=\"product-image-container\">\r\n        <img\r\n          src={`http://localhost:5000${product.image}`} // Adjust to match the server path\r\n          alt={product.name}\r\n          className=\"product-image\"\r\n        />\r\n      </div>\r\n\r\n      <h1 className=\"product-name\">{product.name}</h1>\r\n      <p className=\"product-description\">{product.description}</p>\r\n      <p className=\"product-price\">Rs. {product.price}</p>\r\n      <StarRatings rating={product.rating} starRatedColor=\"gold\" numberOfStars={5} name=\"rating\" />\r\n\r\n      {/* Share Button */}\r\n      <button className=\"share-button\">Share</button>\r\n\r\n      {/* Recommended Products (Placeholder) */}\r\n      <div className=\"recommended-products\">\r\n        <h2>Recommended Products</h2>\r\n        {/* Add your recommended products logic here */}\r\n      </div>\r\n\r\n      {/* Customer Reviews */}\r\n      <h2>Customer Reviews</h2>\r\n      {reviews.map((review) => (\r\n        <div key={review._id} className=\"review\">\r\n          <h4>{review.username}</h4>\r\n          <StarRatings rating={review.rating} starRatedColor=\"gold\" numberOfStars={5} name=\"rating\" />\r\n          <p>{review.comment}</p>\r\n        </div>\r\n      ))}\r\n\r\n      {/* Review Form */}\r\n      <form onSubmit={handleReviewSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Your Name\"\r\n          value={newReview.username}\r\n          onChange={(e) => setNewReview({ ...newReview, username: e.target.value })}\r\n          required\r\n        />\r\n        <StarRatings\r\n          rating={newReview.rating}\r\n          starRatedColor=\"gold\"\r\n          numberOfStars={5}\r\n          name=\"rating\"\r\n          changeRating={(newRating) => setNewReview({ ...newReview, rating: newRating })}\r\n        />\r\n        <textarea\r\n          placeholder=\"Your Review\"\r\n          value={newReview.comment}\r\n          onChange={(e) => setNewReview({ ...newReview, comment: e.target.value })}\r\n          required\r\n        />\r\n        <button type=\"submit\">Submit Review</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}